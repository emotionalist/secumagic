<!DOCTYPE html>
<html lang="kr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="css/Select.css" />
  <title>SecuMagic - 보안 솔루션</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<header>
  <nav class="navbar">
    <div class="logo">
      <a href="/main">SecuMagic</a>
    </div>
  </nav>
</header>

<main>
  <h1 class="page-title">기업 맞춤형 보안 솔루션</h1>
  <div class="content">
    <section class="sidebar">
      <label for="industry" class="dropdown-label">산업 분야</label>
      <select id="industry" class="dropdown">
        <option>교육</option>
        <option>제조</option>
        <option>IT</option>
        <option>에너지</option>
        <option>법률</option>
        <option>금융</option>
        <option>의료</option>
        <option>정부</option>
        <option>항공</option>
      </select>

      <label for="company-size" class="dropdown-label">회사 규모</label>
      <input type="number" id="company-size" class="input-field" placeholder="숫자만 입력하세요" />

      <label for="architecture-link" class="dropdown-label">아키텍처 토폴로지 도구</label>
      <div class="link-box">
        <a href="https://www.microsoft365.com/template/Visio/?culture=en-us&country=us&categoryId=TemplateCategory_BasicNetworkDiagram"
           target="_blank">
          <img src="images/visio.jpg" alt="Visio Template" class="visio-image" />
        </a>
      </div>

      <div class="upload-section">
        <label>Upload Resume</label>
        <div class="upload-box">
          <p>Browse and choose the files you want to upload from your computer</p>
          <input type="file" id="fileInput">
        </div>
      </div>

      <button id="submit-button" class="submit-button">Submit</button>
    </section>

    <section class="main-content">
      <div class="notification">
        <div class="notification-content">
          <h3 class="notification-title">Notification Title</h3>
          <p>Here's notification text.</p>
        </div>
      </div>
    </section>
  </div>
</main>

<script>
  $(document).ready(function () {
    $('#submit-button').click(function () {
      const industry = $('#industry').val();
      const companySize = $('#company-size').val();
      const fileInput = $('#fileInput')[0].files[0];

      if (!fileInput) {
        alert("Please select a file to upload.");
        return;
      }

      const formData = new FormData();
      formData.append("industry", industry);
      formData.append("companySize", companySize);
      formData.append("file", fileInput);

      $.ajax({
        url: '/processData',
        type: 'POST',
        data: formData,
        contentType: false,
        processData: false,
        success: function (response) {
          alert("Data submitted successfully!");
        },
        error: function () {
          alert("An error occurred while processing your request.");
        }
      });
    });
  });
</script>
</body>
</html>
